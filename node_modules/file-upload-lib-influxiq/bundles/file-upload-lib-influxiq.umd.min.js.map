{"version":3,"sources":["ng://file-upload-lib-influxiq/lib/file-upload.service.ts","ng://file-upload-lib-influxiq/lib/component/dialog-box/dialog-box.component.ts","ng://file-upload-lib-influxiq/lib/component/preview-files/preview-files.component.ts","ng://file-upload-lib-influxiq/lib/file-upload.component.ts","ng://file-upload-lib-influxiq/lib/Module/material-module.ts","ng://file-upload-lib-influxiq/lib/directive/drag-drop.directive.ts","ng://file-upload-lib-influxiq/lib/component/alert-message/alert-message.component.ts","ng://file-upload-lib-influxiq/lib/file-upload.module.ts"],"names":["FileUploadService","prototype","upload","uploadURL","data","formData","FormData","append","file","type","path","prefix","this","httpClient","post","reportProgress","observe","pipe","map","event","HttpEventType","UploadProgress","percentage","Math","round","loaded","total","status","totalData","loadedData","Response","body","Injectable","args","providedIn","HttpClient","BASE_URL","httpOptions","headers","HttpHeaders","Content-Type","access-token","DialogBoxComponent","onNoClick","dialogRef","close","ngOnInit","Component","selector","template","MatDialogRef","Inject","MAT_DIALOG_DATA","PreviewFilesComponent","console","log","FileUploadComponent","Object","defineProperty","getConfig","configData","selectFiles","index","length","count","files","element","validate","checkingValidation","valid","message","viewUrl","push","viewTh","_this","setTimeout","reader","FileReader","readAsDataURL","onload","_event","imgURL","result","format","split","includes","size","uploadAll","getIndex","uploading","postData","url","baseUrl","endpoint","fileUploadService","subscribe","response","openSnackBar","err","removeFiles","openDialog","afterClosed","splice","action","_snackBar","open","duration","dialog","width","deleteAll","previewFiles","match","FormBuilder","ActivatedRoute","Router","MatSnackBar","MatDialog","Input","formBuilder","router","filesProcess","totalFile","MaterialModule","NgModule","exports","A11yModule","CdkStepperModule","CdkTableModule","CdkTreeModule","DragDropModule","MatAutocompleteModule","MatBadgeModule","MatBottomSheetModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatCheckboxModule","MatChipsModule","MatStepperModule","MatDatepickerModule","MatDialogModule","MatDividerModule","MatExpansionModule","MatGridListModule","MatIconModule","MatInputModule","MatListModule","MatMenuModule","MatNativeDateModule","MatPaginatorModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatRippleModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatSortModule","MatTableModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatTreeModule","PortalModule","ScrollingModule","DragDropDirective","onDragOver","evt","preventDefault","stopPropagation","background","opacity","onDragLeave","ondrop","dataTransfer","onFileDropped","emit","Directive","Output","HostBinding","HostListener","EventEmitter","AlertMessageComponent","FileUploadModule","declarations","imports","BrowserModule","FormsModule","ReactiveFormsModule","HttpClientModule","ListingModule","entryComponents"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpEvent, HttpErrorResponse, HttpEventType } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FileUploadService {\n\n  public BASE_URL: string = \"http://3.15.236.141:5005/uploads\";\n  public httpOptions = {\n    headers: new HttpHeaders({\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"access-token\": \"TEST\"\n    })\n  };\n\n  constructor(private httpClient: HttpClient) { }\n\n  /* Upload Function */\n  public upload(uploadURL, data) {\n    const formData = new FormData();\n    formData.append('file', data.file);\n    formData.append('type', data.type);\n    formData.append('path', data.path);\n    formData.append('prefix', data.prefix);\n\n    return this.httpClient.post<any>(uploadURL, formData, {\n      reportProgress: true,\n      observe: 'events'\n    }).pipe(map((event) => {\n        switch (event.type) {\n          case HttpEventType.UploadProgress:\n            const percentage = Math.round(100 * event.loaded / event.total);\n            if(percentage >= 0 && percentage <= 100) {\n              return { status: 'progress', data: { totalData: event.total, loadedData: event.loaded, percentage: percentage } };\n            } else {\n              return { status: 'complete', data: null };\n            }\n          case HttpEventType.Response:\n            if(event.body.status == 'success') {\n              return { status: 'complete', data: event.body };\n            } else {\n              return { status: 'error', data: 'An error occord.' };\n            }\n          default:\n            return { status: 'waiting', data: '' };\n            return `Unhandled event: ${event.type}`;\n        }\n      })\n    );\n  }\n\n}\n","import { Component, OnInit, Inject} from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface DialogData {\n  message: string;\n}\n\n@Component({\n  selector: 'lib-dialog-box',\n  templateUrl: './dialog-box.component.html',\n  styleUrls: ['./dialog-box.component.css']\n})\n\nexport class DialogBoxComponent implements OnInit {\n\n  constructor(\n    public dialogRef: MatDialogRef<DialogBoxComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) { }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Inject} from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface DialogData {\n  imgURL: any;\n}\n\n@Component({\n  selector: 'lib-preview-files',\n  templateUrl: './preview-files.component.html',\n  styleUrls: ['./preview-files.component.css']\n})\nexport class PreviewFilesComponent implements OnInit {\n\n  constructor(\n    public dialogRef: MatDialogRef<PreviewFilesComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) { }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  ngOnInit() {\n    console.log(this.data);\n  }\n\n}\n","import { Component, OnInit, ViewChild, Input, Pipe } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { FileUploadService } from './file-upload.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AlertMessageComponent } from './component/alert-message/alert-message.component';\nimport { DialogBoxComponent } from './component/dialog-box/dialog-box.component';\nimport { PreviewFilesComponent } from './component/preview-files/preview-files.component';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { from } from 'rxjs';\n\n@Component({\n  selector: 'lib-file-upload',\n  templateUrl: 'file-upload.component.html',\n  styleUrls: ['style.css']\n})\n\nexport class FileUploadComponent implements OnInit {\n\n  public formData = new FormData();\n  public files: any = [];\n  public filesProcess: any = [];\n  public configData: any;\n  public totalFile: number = 0;\n  public dialogRef: any;\n\n  @Input()\n  set config(getConfig: any) {\n    this.configData = getConfig;\n  }\n\n  constructor(private formBuilder: FormBuilder, private fileUploadService: FileUploadService,\n    private ActivatedRoute: ActivatedRoute, private router: Router, private _snackBar: MatSnackBar,\n    public dialog: MatDialog) { }\n\n  ngOnInit() {\n  }\n\n  /* Select File Proccess */\n  selectFiles(event) {\n    for (let index = 0; index < event.length; index++) {\n      var count: number = this.files.length + index;\n      const element = event[index];\n      \n      /* Checking Validation */\n      let validate: any = this.checkingValidation(element);\n      if (validate.status) {\n        element.valid = { status: true };\n        element.upload = { status: 'selected' };\n        element.viewUrl = 'https://media.giphy.com/media/jAYUbVXgESSti/giphy.gif';\n        this.files.push(element);\n        this.viewTh(count);\n      } else {\n        element.valid = { status: false, message: validate.message };\n        element.upload = { status: 'selected' };\n        element.viewUrl = 'https://media.giphy.com/media/jAYUbVXgESSti/giphy.gif';\n        this.files.push(element);\n        this.viewTh(count);\n      }\n    }\n  }\n\n  viewTh(count) {\n    setTimeout(() => {\n      var reader = new FileReader();\n      let imagePath = this.files[count];\n      reader.readAsDataURL(this.files[count]);\n      reader.onload = (_event) => { \n        let imgURL = reader.result;\n        this.files[count].viewUrl = imgURL;\n      }\n    }, 2000);\n  }\n\n  /* Checking Validation */\n  checkingValidation(element) {\n    let valid: any = { status: true, message: null };\n\n    /* Checking File Format */\n    let format = element.type.split(\"/\");\n    let check = this.configData.format.includes(format[1]);\n    if (check == false) {\n      valid.status = false;\n      valid.message = format[1] + \" format not supported.\";\n      return valid;\n    }\n\n    /* Checking File size */\n    if (element.size / 1000 > this.configData.size) {\n      valid.status = false;\n      valid.message = \"File size too large. Maximum file size limit: \" + this.configData.size + \" KB.\";\n      return valid;\n    }\n\n    if (valid.status == true) {\n      return valid;\n    }\n  }\n\n  /* File Upload Process */\n  uploadAll(getIndex: any = null) {\n    for (let index = 0; index < this.files.length; index++) {\n      if(this.files[index].valid.status == true && this.files[index].upload.status != 'complete') {\n        this.uploading(index);\n      }\n    }\n  }\n\n  /* Upload */\n  uploading(index) {\n    let postData: any = {\n      file: this.files[index],\n      type: \"bulk-upload\",\n      path: \"files\",\n      prefix: \"image_\"\n    }\n\n    let url: string = this.configData.baseUrl + this.configData.endpoint + '?path=' + this.configData.path + '&prefix=' + this.configData.prefix + '&type=' + this.configData.type + '&rand=' + index;\n\n    this.fileUploadService.upload(url, postData).subscribe(\n      (response) => {\n        let result: any = response;\n        switch (result.status) {\n          case 'complete':\n            this.files[index].upload = result;\n            this.configData.files = this.files;\n            this.openSnackBar('Successfully Uploaded !!', 'Undo');\n            break;\n          case 'error':\n            this.files[index].upload = result.data;\n            this.openSnackBar(result.data, '');\n            break;\n          default:\n            this.files[index].upload = result;\n            break;\n        }\n      }, (err) => {\n        this.files[index] = { status: 'error' };\n        this.openSnackBar('An error occurred !!', 'Retry');\n      }\n    );\n  }\n\n  /* Remove Files */\n  removeFiles(index: any = null) {\n    this.openDialog();\n    this.dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.files.splice(index, 1);\n        this.openSnackBar('Successfully Remove !!', '');\n      }\n    });\n  }\n\n  /* Snack Bar */\n  openSnackBar(message: string, action: string) {\n    this._snackBar.open(message, action, {\n      duration: 2000,\n    });\n  }\n\n  /* Dialog Box */\n  openDialog(): void {\n    this.dialogRef = this.dialog.open(DialogBoxComponent, {\n      width: '250px',\n      data: { message: \"Message\" }\n    });\n  }\n\n  /* Delete all selected files */\n  deleteAll() {\n    this.files.splice(0, this.files.length);\n  }\n\n  /* Preview Files */\n  previewFiles(index) {\n    var mimeType = this.files[index].type;\n    if (mimeType.match(/image\\/*/) == null) {\n      console.log('Preview not supported.');\n      return;\n    }\n \n    var reader = new FileReader();\n    let imagePath = this.files[index];\n    reader.readAsDataURL(this.files[index]);\n    reader.onload = (_event) => { \n      let imgURL = reader.result; \n      const dialogRef = this.dialog.open(PreviewFilesComponent, {\n        data: { imgURL: imgURL }\n      });\n    }\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport {CdkStepperModule} from '@angular/cdk/stepper';\nimport {CdkTableModule} from '@angular/cdk/table';\nimport {CdkTreeModule} from '@angular/cdk/tree';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatBadgeModule} from '@angular/material/badge';\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatStepperModule} from '@angular/material/stepper';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatListModule} from '@angular/material/list';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatSortModule} from '@angular/material/sort';\nimport {MatTableModule} from '@angular/material/table';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatTreeModule} from '@angular/material/tree';\n\n@NgModule({\n  exports: [\n    A11yModule,\n    CdkStepperModule,\n    CdkTableModule,\n    CdkTreeModule,\n    DragDropModule,\n    MatAutocompleteModule,\n    MatBadgeModule,\n    MatBottomSheetModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatChipsModule,\n    MatStepperModule,\n    MatDatepickerModule,\n    MatDialogModule,\n    MatDividerModule,\n    MatExpansionModule,\n    MatGridListModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatMenuModule,\n    MatNativeDateModule,\n    MatPaginatorModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSnackBarModule,\n    MatSortModule,\n    MatTableModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    MatTreeModule,\n    PortalModule,\n    ScrollingModule,\n  ]\n})\nexport class MaterialModule {}\n\n\n/**  Copyright 2019 Google Inc. All Rights Reserved.\n    Use of this source code is governed by an MIT-style license that\n    can be found in the LICENSE file at http://angular.io/license */","import { Directive, Output, Input, EventEmitter, HostBinding, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[libDragDrop]'\n})\n\nexport class DragDropDirective {\n\t\n  @Output() onFileDropped = new EventEmitter<any>();\n\t\n  @HostBinding('style.background-color') public background = '#f5fcff'\n  @HostBinding('style.opacity') public opacity = '1'\n\t\n  //Dragover listener\n  @HostListener('dragover', ['$event']) onDragOver(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '#9ecbec';\n    this.opacity = '0.8'\n  }\n\t\n  //Dragleave listener\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '#f5fcff'\n    this.opacity = '1'\n  }\n\t\n  //Drop listener\n  @HostListener('drop', ['$event']) public ondrop(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '#f5fcff'\n    this.opacity = '1'\n    let files = evt.dataTransfer.files;\n    if (files.length > 0) {\n      this.onFileDropped.emit(files)\n    }\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { MatSnackBar, MAT_SNACK_BAR_DATA } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'lib-alert-message',\n  templateUrl: './alert-message.component.html',\n  styleUrls: ['./alert-message.component.css']\n})\nexport class AlertMessageComponent implements OnInit {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FileUploadComponent } from './file-upload.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from './Module/material-module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ListingModule } from \"listing-angular7\";\nimport { DragDropDirective } from './directive/drag-drop.directive';\nimport { AlertMessageComponent } from './component/alert-message/alert-message.component';\nimport { DialogBoxComponent } from './component/dialog-box/dialog-box.component';\nimport { PreviewFilesComponent } from './component/preview-files/preview-files.component';\n\n@NgModule({\n  declarations: [\n    FileUploadComponent,\n    DragDropDirective,\n    AlertMessageComponent,\n    DialogBoxComponent,\n    PreviewFilesComponent\n  ],\n  imports: [\n    BrowserModule,\n    MaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    ListingModule,\n  ],\n  exports: [FileUploadComponent],\n  entryComponents: [\n    AlertMessageComponent,\n    DialogBoxComponent,\n    PreviewFilesComponent\n  ]\n})\nexport class FileUploadModule { }\n"]}