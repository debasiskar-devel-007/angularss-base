<!--<div style="width:100vw; height:100vh; position: absolute; z-index: 999; background: #fff; " *ngIf="showLoader==1">-->
<!--<div style="width:100vw; height:100vh; display:table-cell; vertical-align:middle; text-align:center; ">-->
<!--<img src="assets/images/s_getmybrand_logo.png"  alt="#" style="margin:0 auto; display: block; margin-bottom:30px; max-width: 280px;"/>-->
<!--<div class="loader">-->
<!--</div>-->
<!--</div>-->
<!--</div>-->

<mat-card>
        <mat-card-header>
          <h2 color="primary">Add/Edit {{menuval}}</h2>
        </mat-card-header>
        <span class="formspan">
          <mat-card-content class="example-container">
            <form class="example-form" #form="ngForm" [formGroup]="dataForm" (ngSubmit)="formsubmit()">
            <ng-container *ngFor="let item of formdataval; let i=index;">
              <ng-container *ngIf="(isedit==0 || (item.isaddonly==null && item.isaddonly!=true))" >
              <mat-form-field  *ngIf="item.inputtype=='text' || item.inputtype=='password' || item.inputtype=='number' || item.inputtype=='email' || item.inputtype=='url'" floatLabel="auto" class="example-full-width">
    <!-- for input fields -->
    <mat-label *ngIf="item.inputtype!='hidden'  && item.name!='multiple_emails'">{{item.label}}</mat-label>
                                <mat-label *ngIf="item.inputtype!='hidden' && item.name=='multiple_emails' && inputflag==1">{{item.label}}</mat-label>
                <input matInput *ngIf="(item.inputtype=='text'  || item.inputtype=='password') && item.name!='multiple_emails'"
                [name]="item.name" [formControl]="dataForm.controls[item.name]" [type]="item.inputtype" class="form-control" [placeholder]="item.placeholder" (keyup)="issubmit=0"  (blur)="inputUntouch(dataForm,item.name)">

                <input matInput *ngIf="item.inputtype=='number'" [name]="item.name"
                            [formControl]="dataForm.controls[item.name]" [type]="item.inputtype" class="form-control"
                            [placeholder]="item.placeholder" (keyup)="issubmit=0">
                            <input matInput
                            *ngIf=" inputflag==1 && item.inputtype=='text' && item.name=='multiple_emails'"
                            [name]="item.name" [formControl]="dataForm.controls[item.name]" [type]="item.inputtype"
                            class="form-control" [placeholder]="item.placeholder" (keyup)="issubmit=0" (blur)="inputUntouch(dataForm,item.name)">
                <input matInput *ngIf="item.inputtype=='email' " pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                            [name]="item.name" [formControl]="dataForm.controls[item.name]" [type]="item.inputtype"
                            class="form-control" [placeholder]="item.placeholder" (keyup)="issubmit=0" (blur)="inputUntouch(dataForm,item.name)">

                <input matInput *ngIf="item.inputtype=='url'"
                            pattern="^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
                            [name]="item.name" [formControl]="dataForm.controls[item.name]" [type]="item.inputtype"
                            class="form-control" [placeholder]="item.placeholder" (keyup)="issubmit=0" (blur)="inputUntouch(dataForm,item.name)">
                <!-- <mat-hint align="end">Not more then 60 characters long.</mat-hint> -->
                <mat-error
                  *ngIf="!dataForm.controls[item.name].valid && dataForm.controls[item.name].touched  && dataForm.controls[item.name].errors && dataForm.controls[item.name].errors.required">
                  {{item.label}} is required</mat-error>
              </mat-form-field>
              <mat-form-field  floatLabel="auto" *ngIf="item.inputtype=='hidden'" [hidden]="true">
                <input matInput
                [name]="item.name" [formControl]="dataForm.controls[item.name]" class="form-control" [placeholder]="item.placeholder" (keyup)="issubmit=0"  (blur)="inputUntouch(dataForm,item.name)">
              </mat-form-field>
              <!-- textarea fields -->
              <mat-form-field *ngIf="item.inputtype=='textarea' || item.inputtype=='editor'" class="example-full-width"  floatLabel="auto">
                    <mat-label>{{item.label}}</mat-label>
                    <textarea matInput [name]="item.name"
                    [formControl]="dataForm.controls[item.name]" class="form-control"
                    [placeholder]="item.placeholder" (keyup)="issubmit=0"
                      (blur)="inputUntouch(dataForm,item.name)"></textarea>
                    <!-- <mat-hint align="end">Not more then 200 characters long.</mat-hint> -->
                    <mat-error>{{item.label}} is required!</mat-error>
                  </mat-form-field>
                  <!-- Date picker -->
              <!-- <mat-form-field>
                <input matInput [matDatepicker]="picker1" placeholder="Choose a Start Date of Availability"
                  formControlName="start_date" id="start_date" readonly (click)="picker1.open()"
                  (blur)="inputUntouch(addAvailiabiltyForm,'start_date')">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
      
              <mat-form-field>
                <input matInput [matDatepicker]="picker2" placeholder="Choose a End Date of Availability"
                  formControlName="end_date" id="start_date" readonly (click)="picker2.open()"
                  (blur)="inputUntouch(addAvailiabiltyForm,'end_date')">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field> -->
      <!-- select fields -->

      <mat-form-field floatLabel="auto" *ngIf="item.inputtype=='select'">
            <mat-label>{{item.label}}</mat-label>
            <mat-select *ngIf="item.inputtype=='select' && item.multiple==null" [formControl]="dataForm.controls[item.name]"
            (keyup)="issubmit=0" (blur)="inputUntouch(dataForm,item.name)">
            <mat-option>{{item.defaultchoice}}</mat-option>
              <mat-option *ngFor="let selectval of item.sourceval" value="{{selectval[item.selectid]}}">
                    {{selectval[item.selectvalue]}}
              </mat-option>
            </mat-select>
            <mat-select *ngIf="item.inputtype=='select' && item.multiple==true" [formControl]="dataForm.controls[item.name]"
            (keyup)="issubmit=0" multiple (blur)="inputUntouch(dataForm,item.name)">
            <mat-option>{{item.defaultchoice}}</mat-option>
              <mat-option *ngFor="let selectval of item.sourceval" value="{{selectval[item.selectid]}}">
                    {{selectval[item.selectvalue]}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="dataForm.controls[item.name].touched  && dataForm.controls[item.name].errors ">Please choose {{item.label}}!</mat-error>
          </mat-form-field>
          <!-- checkbox -->
            
              <div class="form-field-span" *ngIf="item.inputtype=='checkbox'">
                <!-- <mat-label>{{item.label}}</mat-label> -->
                <mat-checkbox labelPosition="before" [name]="item.name" [formControl]="dataForm.controls[item.name]" (keyup)="issubmit=0"
                [ngClass]="item.class" (blur)="inputUntouch(dataForm,item.name)">{{item.label}}</mat-checkbox>
                
                <mat-error *ngIf="dataForm.controls[item.name].touched  && dataForm.controls[item.name].errors && dataForm.controls[item.name].errors.required" >{{item.label}} is required!</mat-error>
              </div>
              <!-- </mat-form-field> -->
              <!-- <mat-form-field> -->
              <div class="form-field-span" *ngIf="item.inputtype=='radio'">
                <mat-label>{{item.value}} {{item.valuelabel}}</mat-label>
                <mat-radio-group  [formControl]="dataForm.controls[item.name]" >
                  <mat-radio-button [name]="item.name" [value]="item.value" (keyup)="issubmit=0"
                  [ngClass]="item.class" (blur)="inputUntouch(dataForm,item.name)">30 Minutes</mat-radio-button>
                  <mat-error
                    *ngIf="!dataForm.controls['item.name'].valid  && dataForm.controls['item.name'].touched && dataForm.controls['item.name'].errors && dataForm.controls['item.name'].errors.required">
                    {{item.label}} is required!</mat-error>
                </mat-radio-group>
              </div>

              
              <!-- </mat-form-field> -->
              
               <mat-form-field floatLabel="auto" *ngIf="item.inputtype=='dateis' ">
                                <mat-label>{{item.label}}</mat-label>
                                <input matInput [matDatepicker]="picker2" [placeholder]="item.placeholder"
                                [formControl]="dataForm.controls[item.name]" id="inputdateis{{item.name}}" [name]="item.name" (blur)="inputUntouch(dataForm,item.name)">
                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                                <!-- <mat-datepicker id="picker2"></mat-datepicker> -->
                                
                              </mat-form-field>
                                <!-- file uploader library import -->
                            <lib-file-upload *ngIf="item.inputtype=='file'" [config]="item.filedata"></lib-file-upload>
                             
            </ng-container>
            </ng-container>
            <!-- <input *ngIf="item.inputtype=='dateis' " id="inputdateis{{item.name}}" [name]="item.name"
                            [formControl]="dataForm.controls[item.name]" type="text" class="form-control"
                            [placeholder]="item.placeholder"
                            [bsConfig]="{ dateInputFormat: 'MM-DD-YYYY',  selectFromOtherMonth: false }"
                            #drp="bsDatepicker" bsDatepicker [minDate]="minDate" (keyup)="issubmit=0"> -->
            
                          

            <button matRipple
            matRippleCentered="true" class="submitbtn" mat-raised-button color="primary" type="submit">Submit</button>
                <!-- <button mat-raised-button color="primary" (click)="demoApiserviceCall()">Test </button> -->
                <button type="reset" class="resetbtn" mat-raised-button color="warn" >Reset</button>
            </form>
          </mat-card-content>
        </span>
      </mat-card>

<!--Common confirmation modal-->
<ng-template #commonconfirmmodal>
    <div class="modal-body brandmanagement_modal successmodal_listing">
        <div class="logo_wrapper">
            <img src="assets/images/logo.png">
        </div>
        <div class="brand_messagebox">
            <h3>Are you sure that you want to delete this record ?</h3>
            <div class="btn_cnt">
                <button class="message_allow" (click)="confirmdelete(messagemodal)">Yes</button>
                <button class="message_deny" (click)="nodelete()">No</button>
            </div>
        </div>
    </div>
    <div>
    </div>
</ng-template>




<!--Common message modal-->
<ng-template #messagemodal>
    <div class="modal-body brandmanagement_modal">
        <div class="logo_wrapper">
            <img src="assets/images/logo.png">
        </div>
        <div class="message_success">{{message}}</div>

    </div>
</ng-template>
